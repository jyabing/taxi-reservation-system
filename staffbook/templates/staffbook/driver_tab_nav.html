{% load static %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<style>
.nav-pills.flex-nowrap {
  overflow-x: auto;
  white-space: nowrap;
  flex-wrap: nowrap !important;
  -webkit-overflow-scrolling: touch;
}
.nav-pills .nav-link {
  min-width: 120px;
  text-align: center;
}
.nav-tabs .nav-link {
  font-weight: 500;
}
@media (max-width: 600px) {
  .nav-tabs .nav-link, .nav-pills .nav-link { font-size: 13px; }
  .nav-pills .nav-link { min-width: 92px; }
}
</style>

<!-- 一级tab -->
<ul class="nav nav-tabs mb-2" id="mainTab" role="tablist">
  <li class="nav-item" role="presentation">
    <a class="nav-link {% if main_tab == 'basic' %}active{% endif %}"
       href="{% url 'staffbook:driver_basic_info' driver.id %}">
      基本情報
    </a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link {% if main_tab == 'driving' %}active{% endif %}"
       href="{% url 'staffbook:driver_experience_info' driver.id %}">
      運転情報
    </a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link {% if main_tab == 'insurance' %}active{% endif %}"
       href="{% url 'staffbook:driver_personal_info' driver.id %}?tab=insurance">
      保険・税務
    </a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link {% if main_tab == 'salary' %}active{% endif %}"
       href="#">
      給与情報
    </a>
  </li>
</ul>

<!-- 二级tab（主tab对应内容切换） -->
<div class="tab-content mb-2" id="mainTabContent">
  {% if main_tab == 'basic' %}
    <ul class="nav nav-pills flex-nowrap mb-2">
      <li class="nav-item">
        <a class="nav-link {% if tab == 'basic' %}active{% endif %}" href="{% url 'staffbook:driver_basic_info' driver.id %}">基本データ管理</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'personal' %}active{% endif %}" href="{% url 'staffbook:driver_personal_info' driver.id %}">個人情報</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'certificate' %}active{% endif %}" href="{% url 'staffbook:driver_certificate_info' driver.id %}">签证在留</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'history' %}active{% endif %}" href="{% url 'staffbook:driver_history_info' driver.id %}">履歴・変更記録</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'emergency' %}active{% endif %}" href="{% url 'staffbook:driver_emergency_info' driver.id %}">緊急連絡先</a>
      </li>
    </ul>
  {% elif main_tab == 'driving' %}
    <ul class="nav nav-pills flex-nowrap mb-2">
      <li class="nav-item">
        <a class="nav-link {% if tab == 'experience' %}active{% endif %}" href="{% url 'staffbook:driver_experience_info' driver.id %}">運転経験</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'license' %}active{% endif %}" href="{% url 'staffbook:driver_license_info' driver.id %}">免許証管理</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'qualification' %}active{% endif %}" href="{% url 'staffbook:driver_qualification_info' driver.id %}">資格</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'aptitude' %}active{% endif %}" href="{% url 'staffbook:driver_aptitude_info' driver.id %}">適性診断</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'rewards' %}active{% endif %}" href="{% url 'staffbook:driver_rewards_info' driver.id %}">賞罰</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'accident' %}active{% endif %}" href="{% url 'staffbook:driver_accident_info' driver.id %}">事故・違反</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'education' %}active{% endif %}" href="{% url 'staffbook:driver_education_info' driver.id %}">指導教育</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if tab == 'health' %}active{% endif %}" href="{% url 'staffbook:driver_health_info' driver.id %}">健康診断</a>
      </li>
    </ul>
  {% elif main_tab == 'insurance' %}
    <ul class="nav nav-pills flex-nowrap mb-2">
      <li class="nav-item"><a class="nav-link" href="#">厚生年金</a></li>
      <li class="nav-item"><a class="nav-link" href="#">健康保険</a></li>
      <li class="nav-item"><a class="nav-link" href="#">雇用保険</a></li>
      <li class="nav-item"><a class="nav-link" href="#">税务相关</a></li>
    </ul>
  {% elif main_tab == 'salary' %}
    <ul class="nav nav-pills flex-nowrap mb-2">
      <li class="nav-item"><a class="nav-link" href="#">基本工资</a></li>
      <li class="nav-item"><a class="nav-link" href="#">奖金/加班费</a></li>
      <li class="nav-item"><a class="nav-link" href="#">扣除/实发工资</a></li>
    </ul>
  {% endif %}
</div>
