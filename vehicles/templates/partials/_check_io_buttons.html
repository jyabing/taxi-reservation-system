{# å‡ºåº“ / å…¥åº“ / åˆ é™¤ / ä¿®æ­£æŒ‰é’®ç»Ÿä¸€æ¨¡æ¿ #}

{% if r.status == 'pending' %}
  <a href="{% url 'vehicles:edit_reservation' r.id %}" class="btn btn-sm btn-outline-primary">âœï¸ ä¿®æ­£</a>
  <form method="post" action="{% url 'vehicles:delete_reservation' r.id %}" style="display:inline;" onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
    {% csrf_token %}
    <button type="submit" class="btn btn-sm btn-outline-danger">âŒ å‰Šé™¤</button>
  </form>

{% elif r.status == 'reserved' and not r.actual_departure %}
  <a href="{% url 'vehicles:edit_reservation' r.id %}" class="btn btn-sm btn-outline-primary">âœï¸ ä¿®æ­£</a>
  <form method="post" action="{% url 'vehicles:delete_reservation' r.id %}" style="display:inline;" onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
    {% csrf_token %}
    <button type="submit" class="btn btn-sm btn-outline-danger">âŒ å‰Šé™¤</button>
  </form>
  <button type="button" class="btn btn-sm btn-success"
          onclick="openTimePopup({{ r.id }}, 'departure')">ğŸš— å‡ºåº«</button>

{% elif r.status == 'reserved' and r.actual_departure and not r.actual_return %}
  <button type="button" class="btn btn-sm btn-warning"
          onclick="openTimePopup({{ r.id }}, 'return')">ğŸ…¿ï¸ å…¥åº«</button>

{% elif r.status == 'out' and r.actual_departure and not r.actual_return %}
  <button type="button" class="btn btn-sm btn-warning"
          onclick="openTimePopup({{ r.id }}, 'return')">ğŸ…¿ï¸ å…¥åº«</button>

{% elif r.status == 'completed' %}
  <span style="color:gray;">âœ… å®Œäº†</span>

{% elif r.status == 'canceled' %}
  <span style="color:gray;">âŒ ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>

{% else %}
  <span style="color:#aaa;">â€”</span>
{% endif %}
