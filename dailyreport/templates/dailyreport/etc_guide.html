from pathlib import Path

html = r"""
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>ETC 填报对照表（输入 → 计算 → 验证）v1.1</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --ink:#1f2937;
    --muted:#6b7280;
    --accent:#2563eb;
    --ok:#16a34a;
    --warn:#b45309;
    --bad:#dc2626;
    --bg:#ffffff;
    --line:#e5e7eb;
  }
  *{box-sizing:border-box}
  body{
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB","Noto Sans CJK SC","Microsoft Yahei", sans-serif;
    color:var(--ink);
    background:var(--bg);
    margin:0; padding:24px;
    line-height:1.55;
  }
  h1,h2,h3{line-height:1.2; margin:0 0 .4em}
  h1{font-size:28px}
  h2{font-size:21px; margin-top:1.2em}
  p{margin:.4em 0}
  .small{color:var(--muted); font-size: .92rem}
  .card{
    border:1px solid var(--line);
    border-radius:12px;
    padding:16px;
    margin:12px 0;
    background:#fff;
  }
  .grid{display:grid; gap:12px}
  .g3{grid-template-columns: repeat(3, minmax(0,1fr));}
  .badge{display:inline-block; padding:.1em .55em; border-radius:999px; border:1px solid var(--line); font-size:.85em; background:#f9fafb}
  table{width:100%; border-collapse:collapse;}
  th,td{border:1px solid var(--line); padding:8px 10px; vertical-align:top}
  thead th{background:#f3f4f6; font-weight:600}
  .code{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:.95em}
  .ok{color:var(--ok)} .warn{color:var(--warn)} .bad{color:var(--bad)} .accent{color:var(--accent)}
  ul{margin:.4em 0 .6em 1.1em}
  .print-note{border-left:4px solid var(--accent); padding-left:10px}
  @media print{
    body{padding:0}
    .no-print{display:none !important}
    .card{break-inside: avoid}
  }
</style>
</head>
<body>
  <h1>ETC 填报对照表（输入 → 计算 → 验证）</h1>
  <p class="small">版本：v1.1（含样例#4 - 乘车含回程费 & 空车自费）</p>

  <div class="card">
    <h2>1. 快速流程</h2>
    <ol>
      <li>识别金额：メーター、乗車ETC、空車ETC。</li>
      <li>识别卡来源：会社卡 / 自己卡 / 客人卡。</li>
      <li>确认负担：会社 / 乗客 / ドライバー。</li>
      <li>录入系统后，查看「実際ETC」「過不足」。</li>
    </ol>
  </div>

  <div class="card">
    <h2>4. 完整样例</h2>
    <div class="grid g3">
      <div>
        <h3>样例 #1</h3>
        <ul>
          <li>メーター：1000</li>
          <li>乗車ETC：500</li>
          <li>空車ETC：100</li>
          <li>卡：自己</li>
          <li>负担：ドライバー；支付=信用卡</li>
        </ul>
        <p><strong>期望：</strong>実際ETC = +500；過不足 +500。</p>
      </div>
      <div>
        <h3>样例 #2</h3>
        <ul>
          <li>メーター：1000（APP收款）</li>
          <li>乗車ETC：500（随APP结）</li>
          <li>卡：会社</li>
          <li>负担：乗客</li>
        </ul>
        <p><strong>期望：</strong>実際ETC=0；過不足不变。</p>
      </div>
      <div>
        <h3>样例 #3</h3>
        <ul>
          <li>乗車ETC：400</li>
          <li>空車ETC：0</li>
          <li>卡：自己</li>
          <li>负担：乗客（现场现金）</li>
        </ul>
        <p><strong>期望：</strong>実際ETC=0；若未收钱则ETC不足=400。</p>
      </div>

      <div>
        <h3>样例 #4</h3>
        <ul>
          <li>メーター：25,800（营业）</li>
          <li>乗車ETC：2,080（司机卡垫付）</li>
          <li>Uber明细：25,800 + 2,080（乘车ETC） + 2,080（回程费）</li>
          <li>空車ETC：1,040（司机卡自费，非营业）</li>
          <li>乗車ETC負担：ドライバー（司机先垫）</li>
          <li>支払方法：Uber（公司侧入账）</li>
        </ul>
        <p><strong>期望系统结果：</strong></p>
        <ul>
          <li>実際ETC 会社 → 運転手 = <span class="ok">+2,080 円</span></li>
          <li>空車ETC 1,040 = <span class="bad">司机个人负担</span></li>
          <li>過不足 = 旧口径 + 2,080</li>
          <li>ETC(ドライバー立替) = 3,120（显示垫付总额）</li>
        </ul>
        <p><strong>结论：</strong>只有乘车ETC垫付并由公司侧入账时，才触发公司返还。</p>
      </div>
    </div>
  </div>

  <p class="small">©2025 内部使用手册。遵循统一ETC结算逻辑。</p>
</body>
</html>
"""

path = Path("/mnt/data/ETC_填报对照表_v1.1.html")
path.write_text(html, encoding="utf-8")

str(path)
