{% extends 'base.html' %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
{% endblock %}

{% block content %}
<h2>ğŸ“ ç”³è¯·é¢„çº¦è½¦è¾†ï¼š{{ vehicle.license_plate }}</h2>

<!-- æ¶ˆæ¯æç¤ºåŒºåŸŸ -->
{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>
        {{ message }}
      </li>
    {% endfor %}
  </ul>
{% endif %}

<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">æäº¤é¢„çº¦</button>
</form>

<a href="{% url 'vehicle_status' %}">â† è¿”å›çŠ¶æ€é¡µ</a>
{% endblock %}

<style>
  .messages { list-style: none; padding: 0; }
  .messages li.error { color: red; font-weight: bold; }
  .messages li.success { color: green; font-weight: bold; }
</style>

<!-- Flatpickr æ ·å¼ä¸è„šæœ¬ -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  // è·å–ä»åç«¯ä¼ å…¥çš„ min_timeï¼ˆä¾‹å¦‚ 2025-05-04T11:30ï¼‰
  const minTime = "{{ min_time }}";

  flatpickr("input[name='start_time']", {
    enableTime: true,
    dateFormat: "Y-m-d H:i",
    time_24hr: true,
    minDate: minTime
  });
</script>