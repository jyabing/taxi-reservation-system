{# vehicles/templates/vehicles/my_dailyreports.html #}
{% extends 'base.html' %}
{% block content %}

<h2>ğŸ“… æ—¥æŠ¥æ˜ç»†</h2>

<form method="get" class="mb-3 d-flex align-items-center">
  <label class="me-2 mb-0">æŒ‰æ—¥æœŸï¼š</label>
  <input
    type="date"
    name="date"
    value="{{ selected_date|default:'' }}"
    class="form-control form-control-sm d-inline-block me-2"
    style="width: 8rem;"
  />
  <button type="submit" class="btn btn-outline-secondary btn-sm">æŸ¥è¯¢</button>
  {% if selected_date %}
    <a href="{% url 'my_dailyreports' %}" class="btn btn-light btn-sm ms-2">é‡ç½®</a>
  {% endif %}
</form>

<table class="table table-bordered mb-4">
  <thead class="table-light">
    <tr>
      <th>æ—¥æœŸ</th>
      <th>ãƒ¡ãƒ¼ã‚¿æ–™é‡‘åˆè¨ˆ</th>
      <th>æ“ä½œ</th>
      <th>å¤‡æ³¨</th>
    </tr>
  </thead>
  <tbody>
    {% for rpt in reports_data %}
      <tr>
        <td>{{ rpt.date|date:"Yå¹´næœˆjæ—¥" }}</td>
        <td>{{ rpt.meter_raw|floatformat:0 }}ï¼ˆ{{ rpt.meter_split|floatformat:0 }}ï¼‰</td>
        <td><a href="{% url 'my_daily_report_detail' rpt.id %}">æŸ¥çœ‹æ˜ç»†</a></td>
        <td>{{ rpt.note|default:"æ— " }}</td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="4" class="text-center text-secondary">æ²¡æœ‰æŸ¥åˆ°æ—¥æŠ¥ã€‚</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<div class="fw-bold fs-5">
  æœ¬æœŸãƒ¡ãƒ¼ã‚¿æ–™é‡‘åˆè¨ˆï¼š{{ total_raw|floatformat:0 }}ï¼ˆ{{ total_split|floatformat:0 }}ï¼‰ å††
</div>

<p class="mt-4"><a href="{% url 'profile' %}">â† è¿”å›æˆ‘çš„èµ„æ–™</a></p>
{% endblock %}