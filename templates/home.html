{% extends "base.html" %}

{% block title %}ç³»ç»Ÿé¦–é¡µ{% endblock %}

{% block content %}

{% if system_closed_but_admin %}
<div style="margin:10px 0 20px; padding:10px; border:1px dashed #e0a800; background:#fff3cd;">
  <strong>æç¤ºï¼š</strong> ç³»ç»Ÿå¤„äº <span style="color:#d39e00;">æš‚åœè¥ä¸š</span> çŠ¶æ€ï¼Œä½†ä½ æ˜¯é«˜çº§ç®¡ç†å‘˜ï¼Œä»å¯è®¿é—®å…¨éƒ¨åŠŸèƒ½ã€‚
</div>
{% endif %}

<div class="cards">

  {# â‘  é…è½¦ç³»ç»Ÿï¼šæ‰€æœ‰ç™»å½•ç”¨æˆ·éƒ½å¯ä»¥çœ‹åˆ° #}
  {% if user.is_authenticated %}
    <div class="card">
      <h3>ğŸš– é…è½¦ç³»ç»Ÿ</h3>
      <p>è½¦è¾†é¢„çº¦ã€æ´¾è½¦ã€é¢„çº¦å®¡æ‰¹ç­‰ä¸€ç«™å¼ç®¡ç†ã€‚</p>
      <a href="{% url 'vehicles:reservation_dashboard' %}">è¿›å…¥</a>
    </div>
  {% endif %}

  {# â‘¡ ä¹˜åŠ¡æ—¥æŠ¥ç®¡ç†ç³»ç»Ÿï¼šå’Œå¯¼èˆªã€ŒğŸ’¸ æ—¥å ±ä¸€è¦§ã€åŒä¸€å¥—æƒé™ #}
  {% if user.is_authenticated %}
    {% with p=user.userprofile %}
      {% if user.is_superuser or p.is_dailyreport_admin or p.is_vehicles_admin %}
        <div class="card">
          <h3>ğŸ“˜ ä¹˜åŠ¡æ—¥æŠ¥ç®¡ç†ç³»ç»Ÿ</h3>
          <p>å¸æœºä¹˜åŠ¡æ—¥æŠ¥çš„å½•å…¥ã€å®¡æ‰¹å’Œæ±‡æ€»ç»Ÿè®¡ã€‚</p>
          <a href="{% url 'dailyreport:dailyreport_overview' %}">è¿›å…¥</a>
        </div>
      {% endif %}
    {% endwith %}
  {% endif %}

  {# â‘¢ å‘˜å·¥å°è´¦ç®¡ç†ç³»ç»Ÿï¼šä»…å‘˜å·¥å°è´¦ç®¡ç†å‘˜ #}
  {% if user.is_authenticated %}
    {% with p=user.userprofile %}
      {% if user.is_superuser or p.is_staffbook_admin %}
        <div class="card">
          <h3>ğŸ“’ å‘˜å·¥å°è´¦ç®¡ç†ç³»ç»Ÿ</h3>
          <p>å‘˜å·¥èµ„æ–™ã€å·¥èµ„ã€ææ–™ç®¡ç†ã€‚</p>
          <a href="{% url 'staffbook:driver_list' %}">è¿›å…¥</a>
        </div>
      {% endif %}
    {% endwith %}
  {% endif %}

  {# â‘£ è½¦è¾†ç®¡ç†ç³»ç»Ÿï¼šä»…è½¦è¾†ç®¡ç†ç³»ç»Ÿç®¡ç†å‘˜ #}
  {% if user.is_authenticated %}
    {% with p=user.userprofile %}
      {% if user.is_superuser or p.is_carinfo_admin %}
        <div class="card">
          <h3>ğŸš— è½¦è¾†ç®¡ç†ç³»ç»Ÿ</h3>
          <p>è½¦è¾†èµ„æ–™ã€ç»´ä¿®ã€ç…§ç‰‡ç­‰ç»Ÿä¸€ç®¡ç†ã€‚</p>
          <a href="{% url 'carinfo:car_list' %}">è¿›å…¥</a>
        </div>
      {% endif %}
    {% endwith %}
  {% endif %}

</div>

<style>
  .cards {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }
  .card {
    flex: 1 1 250px;
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 20px;
    background: #f9f9f9;
  }
  .card h3 {
    margin-top: 0;
  }
  .actions {
    margin-top: 30px;
  }
  .actions a {
    display: inline-block;
    background: #007bff;
    color: #fff;
    padding: 10px 20px;
    border-radius: 6px;
    text-decoration: none;
    margin-right: 15px;
  }
  .actions a:hover {
    background: #0056b3;
  }
</style>

{% endblock %}
